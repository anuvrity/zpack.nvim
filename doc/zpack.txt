*zpack.txt*  Lightweight layer on vim.pack with lazy-loading support

Author:  zuqini
License: MIT
Repository: https://github.com/zuqini/zpack.nvim

                                       Type |gO| to see the table of contents.

==============================================================================
1. INTRODUCTION                                           *zpack-introduction*

A thin layer on top of Neovim's native `vim.pack`, adding support for
lazy-loading and the widely adopted lazy.nvim-like declarative spec.
>lua
    -- ./lua/plugins/fundo.lua
    return {
      {
        'kevinhwang91/nvim-fundo',
        dependencies = { "kevinhwang91/promise-async" },
        cond = not vim.g.vscode,
        version = 'main',
        build = function() require('fundo').install() end,
        opts = {},
        config = function(_, opts)
          vim.o.undofile = true
          require('fundo').setup(opts)
        end,
      },
    }
<

==============================================================================
2. REQUIREMENTS                                           *zpack-requirements*

- Neovim 0.12.0+

==============================================================================
3. INSTALLATION                                           *zpack-installation*

Install zpack.nvim via vim.pack.add():
>lua
    vim.pack.add({ 'https://github.com/zuqini/zpack.nvim' })
<

==============================================================================
4. USAGE                                                         *zpack-usage*
                                                               *zpack.setup()*
>lua
    -- Make sure to setup `mapleader` and `maplocalleader` before
    -- loading zpack.nvim so that mappings are correct.
    vim.g.mapleader = " "
    vim.g.maplocalleader = "\\"

    -- automatically import specs from `/lua/plugins/`
    require('zpack').setup()

    -- or import from a custom directory e.g. `/lua/a/b/plugins/`
    require('zpack').setup({ { import = 'a.b.plugins' } })

    -- or add your specs inline in setup
    require('zpack').setup({
      { 'neovim/nvim-lspconfig', config = function() ... end },
      { import = 'plugins.mini' }, -- additionally import from `/lua/plugins/mini/`
    })

    -- or via the spec field
    require('zpack').setup({
      spec = {
        { 'neovim/nvim-lspconfig', config = function() ... end },
        { import = 'plugins.mini' }, -- additionally import from `/lua/plugins/mini/`
      },
    })
<

------------------------------------------------------------------------------
4.1 COMMANDS                                                  *zpack-commands*

zpack provides the following commands (default prefix: `Z`, customizable via
|zpack-setup-cmd_prefix|):

                                                                    *:ZUpdate*
:ZUpdate [plugin]
                Update all plugins that are currently in your spec, or update
                a specific plugin if a name is provided. Supports tab
                completion of installed plugin names. See |vim.pack.update()|.

                                                                     *:ZClean*
:ZClean         Remove plugins that are no longer in your spec. This compares
                installed plugins with your current spec and deletes any that
                are not referenced.

                                                                     *:ZBuild*
:ZBuild[!] [plugin]
                Run build hook for a specific plugin by name, or run build
                hooks for all plugins when called with ! and no plugin name.
                Without the !, attempting to build all will show a warning
                message. Supports tab completion of plugins that have build
                hooks. This is useful for manually rebuilding plugins without
                needing to update them.

                                                                      *:ZLoad*
:ZLoad[!] [plugin]
                Load a specific unloaded plugin by name, or load all unloaded
                plugins when called with ! and no plugin name. Without the !,
                attempting to load all will show a warning message. Supports
                tab completion of unloaded plugin names.

                                                                    *:ZDelete*
:ZDelete[!] [plugin]
                Remove a specific plugin by name, or remove all installed
                plugins when called with ! and no plugin name. Without the !,
                attempting to delete all will show a warning message. Supports
                tab completion of installed plugin names. Deleting active
                plugins in your spec can result in errors in your current
                session. Restart Neovim to re-install them.

------------------------------------------------------------------------------
4.2 DIRECTORY STRUCTURE                         *zpack-directory-structure*

Under the default setting, create plugin specs in `lua/plugins/`:
>
    lua/
      plugins/
        treesitter.lua
        telescope.lua
        lsp.lua
<

Each file returns a spec or list of specs (see |zpack-examples| or
|zpack-spec-reference|):
>lua
    -- lua/plugins/telescope.lua
    return {
      'nvim-telescope/telescope.nvim',
      cmd = 'Telescope',
      keys = {
        { '<leader>ff',
          function() require('telescope.builtin').find_files() end,
          desc = 'Find files' },
      },
      opts = {},
    }
<

------------------------------------------------------------------------------
4.3 CONFIGURATIONS                                     *zpack-configurations*
                                                       *zpack-setup-defaults*
                                                          *zpack-performance*
>lua
    require('zpack').setup({
      -- { import = 'plugins' }  -- default import spec if not explicitly passed in via [1] or spec
      defaults = {
        confirm = true,          -- set to false to skip vim.pack install prompts (default: true)
        cond = nil,              -- global condition for all plugins, e.g. not vim.g.is_vscode (default: nil)
      },
      performance = {
        vim_loader = true,       -- enables vim.loader for faster startup (default: true)
      },
      cmd_prefix = 'Z',          -- :ZUpdate, :ZClean, etc. (default: 'Z')
    })
<
Plugin-level settings always take precedence over `defaults`.

------------------------------------------------------------------------------
4.4 SETUP OPTIONS                                      *zpack-setup-options*

The `setup()` function accepts the following options:

                                                          *zpack-setup-spec*
spec            (table, optional)
                Array of plugin specs to load. Use this to define plugins
                inline instead of importing from a directory.

                Specs can also be passed directly as array elements in the
                setup table (without the `spec` key). Both forms work:
>lua
                -- Form 1: specs as array elements
                require('zpack').setup({
                  { 'nvim-lua/plenary.nvim' },
                  { 'nvim-telescope/telescope.nvim', cmd = 'Telescope' },
                })

                -- Form 2: explicit spec field
                require('zpack').setup({
                  spec = {
                    { 'nvim-lua/plenary.nvim' },
                    { 'nvim-telescope/telescope.nvim', cmd = 'Telescope' },
                  },
                })
<

                                                     *zpack-setup-cmd_prefix*
cmd_prefix      (string, optional)
                Prefix for user commands. Change this if the default
                commands conflict with other plugins. Default: `'Z'`
                Examples:
                  - `'Z'` creates `:ZUpdate`, `:ZClean`, `:ZBuild`, `:ZLoad`,
                    `:ZDelete`
                  - `'Pack'` creates `:PackUpdate`, `:PackClean`, etc.
                  - `''` creates `:Update`, `:Clean`, `:Build`, `:Load`,
                    `:Delete`

defaults        (table, optional)
                Default values that apply to all plugins. Plugin-level
                settings always take precedence over defaults.
                  - `confirm`: Skip vim.pack install prompts. Default: `true`
                  - `cond`: Global condition for all plugins.

performance     (table, optional)
                Performance-related settings.
                  - `vim_loader`: Enable vim.loader caching. Default: `true`

==============================================================================
5. WHY ZPACK?                                                *zpack-why-zpack*

Neovim 0.12+ includes a built-in package manager (`vim.pack`) that handles
plugin installation, updates, and version management. zpack is a thin layer
that adds lazy-loading capabilities and support for a lazy.nvim-like
declarative spec while leveraging the native infrastructure.

zpack might be for you if:
- you're a lazy.nvim user, love its declarative spec, and its wide adoption
  by plugin authors, but you don't need most of its advanced features
- you're a lazy.nvim user, want to try `vim.pack`, but don't want to rewrite
  your entire plugins spec from scratch
- you're mostly happy with a core plugin manager like `vim.pack` without bells
  and whistles, but would benefit from:
    - lazy-loading triggers for a faster startup on slower machines
    - a minimalist set of commands and tools to manage your plugin's lifecycle
      e.g. updates, cleaning, and builds
    - lazy.nvim's declarative plugin spec support to keep your main neovim
      config neat and tidy

As a thin layer, zpack does not provide:
- UI dashboard for your plugins
- Advanced profiling, dev mode, change-detection, etc.

Although you can achieve most of these through other means. See
|zpack-migrating-lazy|. If something you need isn't achievable natively or
through zpack, please submit an issue or PR!

==============================================================================
6. EXAMPLES                                                   *zpack-examples*

For more examples, refer to my personal config:
- zpack installation and setup:
  https://github.com/zuqini/nvim/blob/main/init.lua
- plugins directory structure:
  https://github.com/zuqini/nvim/tree/main/lua/plugins

------------------------------------------------------------------------------
6.1 LAZY LOAD ON COMMAND                                   *zpack-example-cmd*

Load plugin when a specific command is executed:
>lua
    return {
      'nvim-tree/nvim-tree.lua',
      cmd = { 'NvimTreeToggle', 'NvimTreeFocus' },
      opts = {},
    }
<

------------------------------------------------------------------------------
6.2 LAZY LOAD ON KEYMAP                                   *zpack-example-keys*

Load plugin when a specific keymap is triggered:
>lua
    return {
      'folke/flash.nvim',
      keys = {
        { 's', function() require('flash').jump() end,
          mode = { 'n', 'x', 'o' }, desc = 'Flash' },
        { 'S', function() require('flash').treesitter() end,
          mode = { 'n', 'x', 'o' }, desc = 'Flash Treesitter' },
      },
      opts = {},
    }
<

------------------------------------------------------------------------------
6.3 LAZY LOAD ON EVENT                                   *zpack-example-event*

Load plugin when a specific event is triggered:
>lua
    return {
      'windwp/nvim-autopairs',
      event = 'InsertEnter', -- Also supports 'VeryLazy'
      opts = { check_ts = true },
    }
<

------------------------------------------------------------------------------
6.4 LAZY LOAD ON EVENT WITH PATTERN              *zpack-example-event-pattern*

Load plugin on specific events with file patterns:

Inline pattern (same as lazy.nvim):
>lua
    return {
      'rust-lang/rust.vim',
      event = 'BufReadPre *.rs',
      init = function() vim.g.rustfmt_autosave = 1 end,
    }
<

Or using EventSpec for multiple patterns:
>lua
    return {
      'polyglot-plugin',
      event = {
        event = 'BufReadPre',
        pattern = { '*.lua', '*.rs' },
      },
      opts = {},
    }
<

------------------------------------------------------------------------------
6.5 LAZY LOAD ON FILETYPE                                 *zpack-example-ft*

Load plugin when opening files of specific types. Automatically re-triggers
BufReadPre, BufReadPost, and FileType events to ensure LSP clients and
Treesitter attach properly:
>lua
    return {
      'rust-lang/rust.vim',
      ft = { 'rust', 'toml' },
      init = function() vim.g.rustfmt_autosave = 1 end,
    }
<

------------------------------------------------------------------------------
6.6 CONDITIONAL LOADING                            *zpack-example-conditional*

Use `enabled` to skip `vim.pack.add` entirely, or `cond` to conditionally
load after calling `vim.pack.add`:
>lua
    return {
      'project-specific-plugin',
      enabled = vim.fn.has('linux') == 1, -- skip installation
      cond = function() return vim.fn.filereadable('.project-marker') == 1 end, -- skip loading
      opts = {},
    }
<

------------------------------------------------------------------------------
6.7 USING PLUGIN DATA IN HOOKS                     *zpack-example-plugin-data*

All lifecycle hooks (`init`, `config`, `build`, `cond`) and lazy-loading
triggers (`event`, `cmd`, `keys`, `ft`) can be functions that receive a
|zpack.Plugin| object containing the resolved plugin path and spec:
>lua
    return {
      'some/plugin',
      build = function(plugin)
        -- plugin.path: absolute path to the plugin directory
        -- plugin.spec: the vim.pack.Spec with resolved name, src, version
        vim.fn.system({ 'make', '-C', plugin.path })
      end,
    }
<

------------------------------------------------------------------------------
6.8 LOAD PRIORITY                                     *zpack-example-priority*

Control load order with priority (higher loads first; default: 50):
>lua
    -- Startup plugin: load colorscheme early
    return {
      'folke/tokyonight.nvim',
      priority = 1000,
      config = function() vim.cmd('colorscheme tokyonight') end,
    }
<

------------------------------------------------------------------------------
6.9 VERSION PINNING                                    *zpack-example-version*

`vim.pack.add` expects `string|vim.VersionRange`.

Pin a plugin to a semver range, branch, tag, or commit:
>lua
    return {
      'mrcjkb/rustaceanvim',
      version = vim.version.range('^6'), -- semver version
      -- version = 'main', -- branch
      -- version = 'v1.0.0', -- tag
      -- version = 'abc123', -- commit
    }
<
See |vim.pack.Spec|, |vim.version.range()|, and |vim.VersionRange|.

For lazy.nvim compatibility: ~
>lua
    return {
      'mrcjkb/rustaceanvim',
      sem_version = '^6',  -- corresponds to lazy.nvim spec's `version`
      -- branch = 'main',
      -- tag = 'v1.0.0',
      -- commit = 'abc123',
    }
<

------------------------------------------------------------------------------
6.10 CUSTOM CONFIG FUNCTION                         *zpack-example-config*

When you need custom configuration logic, use a `config` function. The
resolved `opts` table is passed as the second argument:
>lua
    return {
      'nvim-lualine/lualine.nvim',
      opts = { theme = 'tokyonight' },
      config = function(_, opts)
        opts.sections = { lualine_a = { 'mode' } }
        require('lualine').setup(opts)
      end,
    }
<

------------------------------------------------------------------------------
6.11 EXPLICIT MAIN MODULE                            *zpack-example-main*

If automatic module detection fails, specify the module with `main`:
>lua
    return {
      'some/plugin-with-unusual-structure',
      main = 'plugin.core',
      opts = { enabled = true },
    }
<

------------------------------------------------------------------------------
6.12 BUILD HOOK                                          *zpack-example-build*

Run a build command after installing/updating plugin:
>lua
    return {
      'nvim-telescope/telescope-fzf-native.nvim',
      build = 'make',
    }
<

------------------------------------------------------------------------------
6.13 MULTIPLE PLUGINS                                 *zpack-example-multiple*

Define multiple plugins in a single file:
>lua
    return {
      { 'nvim-lua/plenary.nvim' },
      { 'nvim-tree/nvim-web-devicons' },
      { 'nvim-lualine/lualine.nvim', opts = { theme = 'auto' } },
    }
<

------------------------------------------------------------------------------
6.14 DEPENDENCIES                                *zpack-example-dependencies*

zpack supports the `dependencies` field, allowing plugins to declare their
dependencies inline:
>lua
    return {
      'nvim-telescope/telescope.nvim',
      cmd = 'Telescope',
      dependencies = {
        'nvim-lua/plenary.nvim',
        { 'nvim-tree/nvim-web-devicons', opts = {} },
      },
    }
<

Dependencies are automatically loaded before the parent plugin when the
parent's lazy trigger fires.

==============================================================================
7. SPEC REFERENCE                                       *zpack-spec-reference*
                                                                  *zpack-Spec*

>lua
    {
      -- Plugin source (provide exactly one)
      [1] = "user/repo",                    -- Short name (github.com/...)
      src = "https://...",                  -- Custom git URL or local path
      dir = "/path/to/plugin",              -- Local path (lazy.nvim compat)
      url = "https://...",                  -- Git URL (lazy.nvim compat)

      -- Dependencies
      dependencies = string|string[]|Spec|Spec[], -- Plugin dependencies

      -- Loading control
      enabled = true|false|function,        -- Enable/disable
      cond = true|false|function(plugin),   -- Condition to load
      lazy = true|false,                    -- Force eager (auto-detect)
      priority = 50,                        -- Load order (default: 50)

      -- Plugin configuration
      opts = {},                            -- Options passed to setup()
      -- opts = function(plugin, opts) return {} end,

      -- Lifecycle hooks
      init = function(plugin) end,          -- Runs before load
      config = function(plugin, opts) end,  -- Runs after load
      -- config = true,                      -- Calls require(main).setup({})
      build = string|function(plugin),      -- Build command/function

      -- Lazy loading triggers (auto-sets lazy=true unless overridden)
      -- All triggers can also be functions receiving zpack.Plugin

      -- Autocommand event(s). Supports 'VeryLazy' and inline patterns:
      -- "BufReadPre *.lua"
      event = string|string[]|EventSpec|(string|EventSpec)[]|fn(plugin),
      pattern = string|string[],            -- Global event pattern(s)
      cmd = string|string[]|fn(plugin),     -- Command(s) to create
      keys = KeySpec|KeySpec[]|fn(plugin),  -- Keymap(s) to create
      ft = string|string[]|function(plugin), -- FileType(s) to lazy load on

      -- Source control (version for `vim.pack.add`, string|vim.VersionRange)
      version = "main",                     -- Branch/tag/commit
      -- version = vim.version.range("1.*"), -- Or semver range

      -- Source control (lazy.nvim compat, mapped to version)
      sem_version = "^1.0.0",               -- lazy.nvim's version field
      branch = "main",                      -- Git branch
      tag = "v1.0.0",                       -- Git tag
      commit = "abc123",                    -- Git commit

      -- Plugin metadata
      name = "my-plugin",                   -- Custom name (optional)
      main = "module.name",                 -- Explicit main module
      module = false,                       -- Disable module-based lazy loading

      -- Spec imports
      import = "plugins.lsp",               -- Import specs from lua/{path}/
    }
<

                                                            *zpack-Spec.[1]*
[1]             (string, optional)
                Plugin short name (e.g., "user/repo"). Expands to
                `https://github.com/{[1]}`. Provide exactly one of:
                [1], src, dir, or url. Priority: [1] > src > url > dir.

                                                             *zpack-Spec.src*
src             (string, optional)
                Custom git URL or local path for the plugin source.
                Provide exactly one of: [1], src, dir, or url.

                                                             *zpack-Spec.dir*
dir             (string, optional)
                Local plugin directory path. For lazy.nvim compatibility.
                Mapped to `src` internally. Provide exactly one of:
                [1], src, dir, or url.

                                                             *zpack-Spec.url*
url             (string, optional)
                Custom git URL. For lazy.nvim compatibility.
                Mapped to `src` internally. Provide exactly one of:
                [1], src, dir, or url.

                                                    *zpack-Spec.dependencies*
dependencies    (string|string[]|zpack.Spec|zpack.Spec[], optional)
                Plugin dependencies. Dependencies are automatically loaded
                before the parent plugin when the parent's lazy trigger fires.
                Can be a string (plugin short name), array of strings, inline
                spec, or array of specs. Dependency specs can have their own
                configuration (opts, config, etc.) and nested dependencies.

                                                         *zpack-Spec.enabled*
enabled         (boolean|function, optional)
                Enable or disable the plugin. Can be a function that returns
                a boolean.

                                                            *zpack-Spec.cond*
cond            (boolean|function(plugin), optional)
                Condition to load the plugin. Can be a function that receives
                |zpack.Plugin| and returns a boolean.

                                                            *zpack-Spec.lazy*
lazy            (boolean, optional)
                Set to `false` to force eager loading (load at startup) even
                when lazy-loading triggers are present. Auto-detected if not
                set based on the presence of lazy-loading triggers.

                                                        *zpack-Spec.priority*
priority        (number, optional)
                Load priority for both startup and lazy-loaded plugins.
                Higher values load earlier. Default: 50. For lazy plugins
                with the same trigger (e.g., same event), higher priority
                plugins load first. Useful for colorschemes and plugins
                that other plugins depend on.

                                                            *zpack-Spec.opts*
opts            (table|function(plugin, opts), optional)
                Options to pass to the plugin's `setup()` function. When
                `opts` is present and no custom `config` function is provided,
                zpack automatically calls `require(main).setup(opts)`.

                Can be a table of options or a function that receives
                |zpack.Plugin| and accumulated opts table, and returns a table.
                The accumulated opts is useful when multiple specs for the same
                plugin are merged - each opts function receives the result from
                previous specs.

                When a custom `config` function is provided, the resolved
                `opts` is passed as the second argument, but you are
                responsible for calling `setup()` yourself.

                                                            *zpack-Spec.init*
init            (function(plugin), optional)
                Runs before the plugin loads. Receives |zpack.Plugin|.

                                                          *zpack-Spec.config*
config          (function(plugin, opts)|true, optional)
                Runs after the plugin loads. When a function is provided, it
                replaces the default auto-setup behavior. The function
                receives |zpack.Plugin| and the resolved `opts` table.

                When set to `true`, zpack calls `require(main).setup(opts)`
                automatically without a custom config function.

                                                           *zpack-Spec.build*
build           (string|function(plugin), optional)
                Build command (string) or function to run after
                installing/updating the plugin. Function receives
                |zpack.Plugin|.

                                                           *zpack-Spec.event*
event           (string|string[]|EventSpec|(string|EventSpec)[]|fn(plugin),
                optional)
                Autocommand event(s) that trigger lazy loading. Supports
                'VeryLazy'. Can be a simple string, array of strings,
                zpack.EventSpec (for specifying patterns), mixed array, or
                a function receiving |zpack.Plugin| that returns any of
                these types. Patterns can be specified inline:
                "BufReadPre *.lua". See |zpack.EventSpec|. Auto-sets
                `lazy=true`.

                                                         *zpack-Spec.pattern*
pattern         (string|string[], optional)
                Global fallback pattern(s) applied to all events. If an
                EventSpec specifies its own pattern, that takes precedence.
                When using simple string or string array for `event`,
                this pattern applies to all events. Defaults to '*' if
                not specified.

                                                             *zpack-Spec.cmd*
cmd             (string|string[]|function(plugin), optional)
                Command(s) to create that trigger lazy loading. Can be a
                function receiving |zpack.Plugin| that returns the value.
                Auto-sets `lazy=true`.

                                                            *zpack-Spec.keys*
keys            (zpack.KeySpec|zpack.KeySpec[]|function(plugin), optional)
                Keymap(s) to create that trigger lazy loading. Can be a
                function receiving |zpack.Plugin| that returns the value.
                Auto-sets `lazy=true`. See |zpack.KeySpec|.

                                                              *zpack-Spec.ft*
ft              (string|string[]|function(plugin), optional)
                FileType(s) to lazy load on. Can be a function receiving
                |zpack.Plugin| that returns the value. Automatically
                re-triggers BufReadPre, BufReadPost, and FileType events
                after loading to ensure LSP clients and Treesitter attach
                properly. Auto-sets `lazy=true`.

                                                         *zpack-Spec.version*
version         (string|vim.VersionRange, optional)
                Git branch, tag, or commit (string), or semver range via
                |vim.version.range()|. This is vim.pack.add's version field.

                                                     *zpack-Spec.sem_version*
sem_version     (string, optional)
                Semver range string. Corresponds to lazy.nvim spec's
                `version` field. Auto-wrapped to |vim.version.range()|.
                For lazy.nvim compatibility.

                                                          *zpack-Spec.branch*
branch          (string, optional)
                Git branch. For lazy.nvim compatibility.
                Mapped to `version` internally.

                                                             *zpack-Spec.tag*
tag             (string, optional)
                Git tag. For lazy.nvim compatibility.
                Mapped to `version` internally.

                                                          *zpack-Spec.commit*
commit          (string, optional)
                Git commit hash. For lazy.nvim compatibility.
                Mapped to `version` internally.

                                                            *zpack-Spec.name*
name            (string, optional)
                Custom plugin name. Overrides the name automatically derived
                from the source URL. Useful when you need a specific directory
                name or want to avoid naming conflicts.

                                                            *zpack-Spec.main*
main            (string, optional)
                Explicit main module name for auto-setup. When not set,
                zpack uses heuristics to detect the module:
                1. For mini.* plugins, uses the plugin name directly
                2. Normalizes the plugin name (removes vim-/nvim- prefix,
                   .vim/.nvim suffix) and searches for a matching module

                Use this when automatic detection fails.

                                                          *zpack-Spec.module*
module          (boolean, optional)
                Set to `false` to disable module-based lazy loading for this
                plugin. When disabled, the plugin will not be automatically
                loaded when its modules are `require()`d.

                zpack automatically loads lazy plugins when their modules are
                required. It first tries to match module names against plugin
                names, then falls back to scanning plugin `/lua` directories.

                Default: true (module loading enabled)

                                                          *zpack-Spec.import*
import          (string, optional)
                Module path to import specs from (e.g., 'plugins' or
                'plugins.lsp'). Imports all .lua files from lua/{path}/
                and all subdirectories with init.lua (lua/{path}/*/init.lua).
                Each file should return a spec or list of specs.

==============================================================================
8. PLUGIN REFERENCE                                *zpack-plugin-reference*
                                                              *zpack.Plugin*

The plugin data object passed to hooks and trigger functions:
>lua
    {
      spec = vim.pack.Spec,           -- The resolved vim.pack spec
      path = string,                  -- Absolute path to plugin directory
    }
<

                                                        *zpack.Plugin.spec*
spec            (vim.pack.Spec)
                The resolved vim.pack spec containing name, src, and version.

                                                        *zpack.Plugin.path*
path            (string)
                Absolute path to the plugin directory.

==============================================================================
9. EVENTSPEC REFERENCE                            *zpack-eventspec-reference*
                                                       *zpack.EventSpec*

>lua
    {
      event = string|string[],        -- Event name(s) to trigger on
      pattern = string|string[],      -- Pattern(s) for the event (optional)
    }
<

                                                      *zpack.EventSpec.event*
event           (string|string[], required)
                Event name(s) to trigger on.

                                                    *zpack.EventSpec.pattern*
pattern         (string|string[], optional)
                Pattern(s) for the event. Can be a single pattern or array of
                patterns. If not specified, defaults to '*' (match all).

==============================================================================
10. KEYSPEC REFERENCE                              *zpack-keyspec-reference*
                                                             *zpack.KeySpec*

>lua
    {
      [1] = "<leader>ff",             -- LHS keymap (required)
      [2] = function() end,           -- RHS function
      desc = "description",           -- Keymap description
      mode = "n"|{"n","v"},           -- Mode(s), default: "n"
      remap = true|false,             -- Allow remapping, default: false
      nowait = true|false,            -- Default: false
    }
<

                                                        *zpack.KeySpec.[1]*
[1]             (string, required)
                The left-hand side of the keymap (e.g., `<leader>ff`).

                                                        *zpack.KeySpec.[2]*
[2]             (function, required)
                The right-hand side function to execute.

                                                        *zpack.KeySpec.desc*
desc            (string, optional)
                Description of the keymap.

                                                        *zpack.KeySpec.mode*
mode            (string|string[], optional)
                Mode(s) for the keymap. Default: "n" (normal mode).

                                                       *zpack.KeySpec.remap*
remap           (boolean, optional)
                Whether to allow remapping (recursive mapping). When false,
                the mapping is non-recursive (like noremap). Default: false.

                                                      *zpack.KeySpec.nowait*
nowait          (boolean, optional)
                Whether to use nowait. Default: false.

==============================================================================
11. MIGRATING FROM LAZY.NVIM                           *zpack-migrating-lazy*

Most of your lazy.nvim plugin specs will work as-is with zpack. However,
zpack follows `vim.pack` conventions over lazy.nvim conventions, and is
missing a few advanced features:

                                                       *zpack-migration-spec*
version pinning           lazy.nvim's `version` field maps to zpack's
                          `sem_version`. See |zpack-example-version|.

                                                        *zpack-migration-dev*
dev mode                  Use `src = vim.fn.expand('~/projects/my_plugin.nvim')`
                          for local development.

                                                  *zpack-migration-profiling*
profiling                 Use `nvim --startuptime startuptime.log`.
                          Also see: https://gist.github.com/zuqini/35993710f81983fbfa6baca67bdb32ed

==============================================================================
12. ACKNOWLEDGEMENTS                               *zpack-acknowledgements*

zpack's spec design and several features are inspired by lazy.nvim
(https://github.com/folke/lazy.nvim). Credit to folke for the excellent
plugin manager that influenced this project.

==============================================================================
vim:tw=78:ts=8:ft=help:norl:
